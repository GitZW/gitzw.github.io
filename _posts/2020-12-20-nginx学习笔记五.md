---
layout:     post
title:      NGINX 学习笔记（四）
subtitle:   NGINX 学习笔记（四）
date:       2020-11-21
author:     ZW
header-img: img/mysql_img.jpg
catalog: 	 true
tags:
    - NGINX
---


# http2.0

![图一](/img/20210106201516.jpg)

参考 https://github.com/zqjflash/http2-protocol


# protobuf
## 是什么
> Protocol Buffers 是一种轻便高效的结构化数据存储格式，可以用于结构化数据序列化，很适合做数据存储或 RPC 数据交换格式。它可用于通讯协议、数据存储等领域的语言无关、平台无关、可扩展的序列化结构数据格式。

## 语法

### 消息类型
```protobuf
message SearchRequest {
  required string query = 1;
  optional int32 page_number = 2;
  optional int32 result_per_page = 3;
  repeated string user_id=4;
}
```

1.required：表示该值是必须要设置的；

2.optional：消息格式中该字段可以有0个或1个值（不超过1个）。

3.repeated：字段可以重复任意多次（包括0次）。重复的值的顺序会被保留。表示该值可以重复，相当于java中的List。

每个字段都有唯一的一个数字标识符。这些标识符是用来在消息的二进制格式中识别各个字段的，一旦开始使用就不能够再改变


### 保留标识符或名称
```protobuf
message Foo {
  reserved 2, 15, 9 to 11;
  reserved "foo", "bar";
}
```

# grpc
> gRPC 是一个高性能、通用的开源RPC框架，其由 Google 主要面向移动应用开发并基于HTTP/2 协议标准而设计，基于 ProtoBuf(Protocol Buffers) 序列化协议开发，且支持众多开发语言。本文作者深入研究了 gRPC 协议，对协议本身作出解构。
